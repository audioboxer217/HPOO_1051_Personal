<?xml version="1.0" encoding="UTF-8"?>
<flow id="0a17e964-7232-4217-b72f-267549bb3562">
  <descriptionCdata><![CDATA[0a17e964-7232-4217-b72f-267549bb3562.59683eb2-1d07-496c-b957-467d88586fc8.description=<pre>\nRuns a SQL SELECT query.\nReturns the complete result like the following\:\na<colDelimiter>1<rowDelimiter>b<colDelimiter>2\n\nInputs\:\n    DBServerName - The hostname or ip address of db server.\n    DbType - The type of database to connect to. \nValid values\: Oracle, MSSQL, Sybase, Netcool, DB2 and Custom.\nDefault value\: Oracle\n    Username - The username to use when connecting to the server.\n    Password -  The password to use when connecting to the server.\n    instance - The name instance of MSSQL Server. Leave it blank for default instance.\n    DbPort - The port to connect to.\nDefault values\: Oracle\: 1521, MSSQL\: 1433, Sybase\: 5000, Netcool\: 4100, DB2\: 50000.\n    Database - The name of the database.\n    authenticationType - The type of authentication used to access the database (applicable only to MSSQL type). \nValid values\: sql, windows (for MSSQL)\nDefault value\: sql\n    Command - The command to execute.\n    colDelimiter - The delimiter to use between columns in resulting table.\nDefault value\: comma (,)\n    rowDelimiter - The delimiter to use between rows in resulting table.\nDefault value\: \\n\n    timeout - Seconds to wait before timing out the SQL command execution.\nDefault value\: 0 \n\nResults\:\n    returnResult - This is the primary output. Return the list of all the data returned by the query. It is delimited by colDelimiter and rowDelimiter. \n\nResponses\:\n    success - The command was executed successfully. \n    failure - Failed to execute the command. \n\nNote\: \nSQL statement other than SELECT statement (like INSERT, UPDATE or DELETE) is not supported. In case statements other than SELECT are executed then the operation will fail but the statements might get partially or fully executed in the database.\n</pre>
0a17e964-7232-4217-b72f-267549bb3562.8897dd6c-1b53-4bda-89c5-ca389a3f3967.prompt=HostName\:
0a17e964-7232-4217-b72f-267549bb3562.a572bd62-887c-431a-84ce-94236234c202.description=<pre>\nThis operation does not do anything. It can be used to filter flow variables by defining them as inputs and filtering them in the Results tab.\n\nInputs\:\n    field1 \u2013 An optional input that can be used for filtering flow variables.\n    field2 \u2013 An optional input that can be used for filtering flow variables.\n    field3 \u2013 An optional input that can be used for filtering flow variables.\n    field4 \u2013 An optional input that can be used for filtering flow variables.\n\nResults\:\n    returnResult - This is the primary output. It contains the value of  "field1" as it was specified at input or when filtered. \n\nResponses\:\n    success - The operation completed as stated in the description.\n</pre>
]]></descriptionCdata>
  <annotation></annotation>
  <name>Fetch Qualified Devices</name>
  <categories/>
  <inputs/>
  <scriptlet id="f69bbaa9-5b19-4122-8944-83186bdb83c1">
    <annotation></annotation>
    <name>Operation Fetch Qualified Devices (0a17e964-7232-4217-b72f-267549bb3562)</name>
    <type>RHINO</type>
  </scriptlet>
  <possibleResponses>
    <opResponse id="003d9187-86ad-44c9-8a4b-efdb3ddd3106">
      <annotation></annotation>
      <name>success</name>
      <isDefault>true</isDefault>
      <onFailure>false</onFailure>
      <type>RESOLVED</type>
      <matchRules/>
    </opResponse>
    <opResponse id="44c52160-7dd8-4ec7-8d32-faebd7de715c">
      <annotation></annotation>
      <name>failure</name>
      <isDefault>false</isDefault>
      <onFailure>true</onFailure>
      <type>ERROR</type>
      <matchRules/>
    </opResponse>
  </possibleResponses>
  <availableResultExpressions/>
  <resultExpression id="80a7df1f-f241-4a63-9d2d-9ad8be71fc60">
    <annotation></annotation>
    <name>FailureMessage</name>
    <fieldName>FailureMessage</fieldName>
    <sourceType>RAWRESULT</sourceType>
    <filters/>
  </resultExpression>
  <iconSpec id="4b2ba53e-e540-4ad7-b836-83a333474b39">
    <baseIcon>flow.png</baseIcon>
    <basePath>System</basePath>
    <readOnly>false</readOnly>
    <layers/>
  </iconSpec>
  <callouts/>
  <checkPointFlow>true</checkPointFlow>
  <compatibleRuntimeContext>false</compatibleRuntimeContext>
  <historyCheckPointFlow>true</historyCheckPointFlow>
  <steps>
    <step id="59683eb2-1d07-496c-b957-467d88586fc8">
      <annotation>0a17e964-7232-4217-b72f-267549bb3562.59683eb2-1d07-496c-b957-467d88586fc8.description</annotation>
      <name>SQL Query All Rows</name>
      <bounds>
        <x>0.0</x>
        <y>0.0</y>
      </bounds>
      <layer>-1</layer>
      <hideInbound>false</hideInbound>
      <addResultToRunContext>false</addResultToRunContext>
      <isCriticalStep>false</isCriticalStep>
      <isNonBlocking>false</isNonBlocking>
      <isParallelStep>false</isParallelStep>
      <isSingleResponse>false</isSingleResponse>
      <recordInHistory>false</recordInHistory>
      <recordRawOutput>true</recordRawOutput>
      <recordPrimaryOutput>true</recordPrimaryOutput>
      <checkPointStep>true</checkPointStep>
      <historyCheckPointStep>true</historyCheckPointStep>
      <scriptResultStep>false</scriptResultStep>
      <userPrompt></userPrompt>
      <bindings>
        <userInputBinding id="8897dd6c-1b53-4bda-89c5-ca389a3f3967">
          <annotation></annotation>
          <toContextKey></toContextKey>
          <fromContextKey>LogDBServer</fromContextKey>
          <assignFromContext>true</assignFromContext>
          <assignToContext>true</assignToContext>
          <inputType>STRING</inputType>
          <isList>false</isList>
          <required>true</required>
          <isPersisted>true</isPersisted>
          <inputSymbol>DBServerName</inputSymbol>
          <listDelimiter>,</listDelimiter>
          <record>false</record>
          <prompt>0a17e964-7232-4217-b72f-267549bb3562.8897dd6c-1b53-4bda-89c5-ca389a3f3967.prompt</prompt>
          <isMultiSelect>false</isMultiSelect>
          <sourceDelimiter>|</sourceDelimiter>
        </userInputBinding>
        <staticBinding id="7dadf099-7abc-4de8-ae2a-8b380728846e">
          <annotation></annotation>
          <toContextKey></toContextKey>
          <fromContextKey></fromContextKey>
          <assignFromContext>true</assignFromContext>
          <assignToContext>true</assignToContext>
          <inputType>STRING</inputType>
          <isList>false</isList>
          <required>false</required>
          <isPersisted>true</isPersisted>
          <inputSymbol>DbType</inputSymbol>
          <listDelimiter>,</listDelimiter>
          <value>MYSQL</value>
          <record>false</record>
        </staticBinding>
        <identityBinding id="7c48d89d-2555-40e3-80ed-005b00342de3">
          <annotation></annotation>
          <toContextKey></toContextKey>
          <fromContextKey></fromContextKey>
          <assignFromContext>true</assignFromContext>
          <assignToContext>true</assignToContext>
          <inputType>ENCRYPTED</inputType>
          <isList>false</isList>
          <required>true</required>
          <isPersisted>true</isPersisted>
          <inputSymbol>Username</inputSymbol>
          <listDelimiter>,</listDelimiter>
          <record>false</record>
          <link>
            <refId>20b6be10-763a-4cab-9415-7c00157bb954</refId>
            <refName>Logging DB Server</refName>
          </link>
          <identityAttribute>USERNAME</identityAttribute>
        </identityBinding>
        <identityBinding id="e0e228ad-3ba3-4ce6-9bdc-bcbc0b55919a">
          <annotation></annotation>
          <toContextKey></toContextKey>
          <fromContextKey></fromContextKey>
          <assignFromContext>true</assignFromContext>
          <assignToContext>true</assignToContext>
          <inputType>ENCRYPTED</inputType>
          <isList>false</isList>
          <required>true</required>
          <isPersisted>true</isPersisted>
          <inputSymbol>Password</inputSymbol>
          <listDelimiter>,</listDelimiter>
          <record>false</record>
          <link>
            <refId>20b6be10-763a-4cab-9415-7c00157bb954</refId>
            <refName>Logging DB Server</refName>
          </link>
          <identityAttribute>PASSWORD</identityAttribute>
        </identityBinding>
        <staticBinding id="d9dffa46-6aca-4433-b24c-faf90381a336">
          <annotation></annotation>
          <toContextKey></toContextKey>
          <fromContextKey></fromContextKey>
          <assignFromContext>true</assignFromContext>
          <assignToContext>true</assignToContext>
          <inputType>STRING</inputType>
          <isList>false</isList>
          <required>false</required>
          <isPersisted>true</isPersisted>
          <inputSymbol>DBPort</inputSymbol>
          <listDelimiter>,</listDelimiter>
          <value>3306</value>
          <record>false</record>
        </staticBinding>
        <staticBinding id="11afc474-b588-4dcb-ac18-3367ea25f2b6">
          <annotation></annotation>
          <toContextKey></toContextKey>
          <fromContextKey>hpoo_other</fromContextKey>
          <assignFromContext>true</assignFromContext>
          <assignToContext>true</assignToContext>
          <inputType>STRING</inputType>
          <isList>false</isList>
          <required>true</required>
          <isPersisted>true</isPersisted>
          <inputSymbol>Database</inputSymbol>
          <listDelimiter>,</listDelimiter>
          <value></value>
          <record>false</record>
        </staticBinding>
        <staticBinding id="f9732d0a-e7d2-4e06-8db6-3fd60b88e2e7">
          <annotation></annotation>
          <toContextKey></toContextKey>
          <fromContextKey></fromContextKey>
          <assignFromContext>false</assignFromContext>
          <assignToContext>false</assignToContext>
          <inputType>STRING</inputType>
          <isList>false</isList>
          <required>true</required>
          <isPersisted>true</isPersisted>
          <inputSymbol>Command</inputSymbol>
          <listDelimiter>,</listDelimiter>
          <value>SELECT * FROM hpoo_other.Command_Runner_Devices;</value>
          <record>false</record>
        </staticBinding>
        <staticBinding id="e2aa917d-abb9-4376-a599-904a741c2b8a">
          <annotation></annotation>
          <toContextKey></toContextKey>
          <fromContextKey></fromContextKey>
          <assignFromContext>true</assignFromContext>
          <assignToContext>true</assignToContext>
          <inputType>STRING</inputType>
          <isList>false</isList>
          <required>false</required>
          <isPersisted>true</isPersisted>
          <inputSymbol>colDelimiter</inputSymbol>
          <listDelimiter>,</listDelimiter>
          <value>|</value>
          <record>false</record>
        </staticBinding>
        <staticBinding id="146f66a4-5866-4fdb-a621-c5a0018035aa">
          <annotation></annotation>
          <toContextKey></toContextKey>
          <fromContextKey></fromContextKey>
          <assignFromContext>true</assignFromContext>
          <assignToContext>true</assignToContext>
          <inputType>STRING</inputType>
          <isList>false</isList>
          <required>false</required>
          <isPersisted>true</isPersisted>
          <inputSymbol>rowDelimiter</inputSymbol>
          <listDelimiter>,</listDelimiter>
          <value></value>
          <record>false</record>
        </staticBinding>
      </bindings>
      <transitions>
        <transition id="9c768e24-439a-4da1-aa53-9667ced06dcf">
          <annotation></annotation>
          <name>failure</name>
          <command>NEXT</command>
          <linkMode>false</linkMode>
          <responseSymbol>failure</responseSymbol>
          <shouldHandoff>false</shouldHandoff>
          <transitionValue>0.0</transitionValue>
          <destination>
            <refId>0a615b94-5a71-438c-b0e3-4d4538805fca</refId>
          </destination>
          <source>
            <refId>59683eb2-1d07-496c-b957-467d88586fc8</refId>
          </source>
          <positions>
            <point>
              <x>182.0</x>
              <y>119.0</y>
            </point>
            <point>
              <x>177.0</x>
              <y>220.0</y>
            </point>
          </positions>
          <labelPosition>
            <x>333.0</x>
            <y>0.0</y>
          </labelPosition>
        </transition>
        <transition id="d241f28d-5a9a-47c8-a084-b8b800f3516a">
          <annotation></annotation>
          <name>success</name>
          <command>NEXT</command>
          <linkMode>false</linkMode>
          <responseSymbol>success</responseSymbol>
          <shouldHandoff>false</shouldHandoff>
          <transitionValue>0.0</transitionValue>
          <destination>
            <refId>a572bd62-887c-431a-84ce-94236234c202</refId>
          </destination>
          <source>
            <refId>59683eb2-1d07-496c-b957-467d88586fc8</refId>
          </source>
          <positions>
            <point>
              <x>50.0</x>
              <y>34.0</y>
            </point>
            <point>
              <x>50.0</x>
              <y>206.0</y>
            </point>
          </positions>
          <labelPosition>
            <x>333.0</x>
            <y>0.0</y>
          </labelPosition>
        </transition>
      </transitions>
      <properties/>
      <opRef>
        <refId>94ce36eb-1969-4418-8953-d204f7ec94ee</refId>
      </opRef>
      <assignments>
        <flowVariableAssignment id="5a7dea2f-eb2e-4d56-b0de-f07df8bd1d05">
          <annotation></annotation>
          <name>assignment</name>
          <action>OVERWRITE</action>
          <assignmentTargetType>FLOW_VARIABLE</assignmentTargetType>
          <contextKey>sqlResult</contextKey>
          <expression id="8101fd78-02ec-4f54-ad89-dbd45ed281c2">
            <annotation></annotation>
            <name>Result Field: Result</name>
            <fieldName>Result</fieldName>
            <sourceType>RAWRESULT</sourceType>
            <filters/>
          </expression>
        </flowVariableAssignment>
      </assignments>
      <throttleSize>0</throttleSize>
    </step>
    <returnStep id="a9fe3370-68d1-4614-b72e-1424d17174d4">
      <annotation></annotation>
      <name>Resolved : success</name>
      <bounds>
        <x>0.0</x>
        <y>358.0</y>
      </bounds>
      <layer>-1</layer>
      <hideInbound>false</hideInbound>
      <addResultToRunContext>false</addResultToRunContext>
      <isCriticalStep>false</isCriticalStep>
      <isNonBlocking>false</isNonBlocking>
      <isParallelStep>false</isParallelStep>
      <isSingleResponse>false</isSingleResponse>
      <recordInHistory>false</recordInHistory>
      <recordRawOutput>true</recordRawOutput>
      <recordPrimaryOutput>true</recordPrimaryOutput>
      <checkPointStep>true</checkPointStep>
      <historyCheckPointStep>true</historyCheckPointStep>
      <scriptResultStep>false</scriptResultStep>
      <userPrompt></userPrompt>
      <bindings/>
      <transitions>
        <transition id="8f606275-d563-47d6-b348-f4fb1102239e">
          <annotation></annotation>
          <name>return</name>
          <command>NEXT</command>
          <linkMode>false</linkMode>
          <responseSymbol>success</responseSymbol>
          <shouldHandoff>false</shouldHandoff>
          <transitionValue>0.0</transitionValue>
          <destination>
            <refId>a9fe3370-68d1-4614-b72e-1424d17174d4</refId>
          </destination>
          <source>
            <refId>a9fe3370-68d1-4614-b72e-1424d17174d4</refId>
          </source>
          <positions/>
        </transition>
      </transitions>
      <properties/>
      <returnStepType>RESOLVED</returnStepType>
      <assignments/>
    </returnStep>
    <step id="a572bd62-887c-431a-84ce-94236234c202">
      <annotation>0a17e964-7232-4217-b72f-267549bb3562.a572bd62-887c-431a-84ce-94236234c202.description</annotation>
      <name>Create JSON String</name>
      <bounds>
        <x>0.0</x>
        <y>172.0</y>
      </bounds>
      <layer>-1</layer>
      <hideInbound>false</hideInbound>
      <addResultToRunContext>false</addResultToRunContext>
      <isCriticalStep>false</isCriticalStep>
      <isNonBlocking>false</isNonBlocking>
      <isParallelStep>false</isParallelStep>
      <isSingleResponse>false</isSingleResponse>
      <recordInHistory>false</recordInHistory>
      <recordRawOutput>true</recordRawOutput>
      <recordPrimaryOutput>true</recordPrimaryOutput>
      <checkPointStep>true</checkPointStep>
      <historyCheckPointStep>true</historyCheckPointStep>
      <scriptResultStep>false</scriptResultStep>
      <userPrompt></userPrompt>
      <bindings>
        <staticBinding id="8bfdcc9a-5302-4bc9-857e-c208b4b5e31e">
          <annotation></annotation>
          <assignFromContext>true</assignFromContext>
          <assignToContext>false</assignToContext>
          <inputType>STRING</inputType>
          <isList>false</isList>
          <required>false</required>
          <isPersisted>true</isPersisted>
          <inputSymbol>sqlResult</inputSymbol>
          <listDelimiter>,</listDelimiter>
          <value></value>
          <record>false</record>
        </staticBinding>
      </bindings>
      <transitions>
        <transition id="6ec64485-80ed-4db9-b412-1b9c7ca2aaa7">
          <annotation></annotation>
          <name>success</name>
          <command>NEXT</command>
          <linkMode>false</linkMode>
          <responseSymbol>success</responseSymbol>
          <shouldHandoff>false</shouldHandoff>
          <transitionValue>0.0</transitionValue>
          <destination>
            <refId>a9fe3370-68d1-4614-b72e-1424d17174d4</refId>
          </destination>
          <source>
            <refId>a572bd62-887c-431a-84ce-94236234c202</refId>
          </source>
          <positions>
            <point>
              <x>50.0</x>
              <y>206.0</y>
            </point>
            <point>
              <x>50.0</x>
              <y>392.0</y>
            </point>
          </positions>
          <labelPosition>
            <x>333.0</x>
            <y>0.0</y>
          </labelPosition>
        </transition>
      </transitions>
      <properties/>
      <opRef>
        <refId>ddd79f22-8b1e-4605-88d5-d912bb2da2b9</refId>
      </opRef>
      <assignments>
        <flowVariableAssignment id="97bce9e9-500b-454f-b7c8-cb619a66e0cf">
          <annotation></annotation>
          <name>assignment</name>
          <action>OVERWRITE</action>
          <assignmentTargetType>FLOW_OUTPUT_FIELD</assignmentTargetType>
          <contextKey>deviceResult</contextKey>
          <expression id="d303b4f2-d8fd-4ccd-b33d-72e6d858f910">
            <annotation></annotation>
            <name>Input: sqlResult</name>
            <fieldName>sqlResult</fieldName>
            <sourceType>INPUT</sourceType>
            <filters>
              <scriptletFilter id="45c4a655-8b80-4a46-bf68-50d441e4caa8">
                <annotation></annotation>
                <name>Scriptlet</name>
                <scriptlet id="c23e863c-9122-4238-8a59-57a0ae6fa9f1">
                  <annotation></annotation>
                  <name>default</name>
                  <script>initialArray = scriptletInput.split(&quot;\n&quot;);

devArray = new Array();

initialArray.forEach(splitElements, devArray);
deviceResult = devArray.join();

scriptletResult =  deviceResult;

function splitElements(element, index, array) {
  itemObj = new Object();
  
  elementArray = element.split(&quot;|&quot;);
  elementArray.forEach(assignLabels,itemObj);
  labeledElement = JSON.stringify(itemObj);

  this[index] = labeledElement;
}

function assignLabels(element, index, array) {
  switch(index) {
	case 0:
	    this.na_DeviceID = element;
		break;
	case 1:
	    this.hostName = element;
		break;
	case 2:
		this.primaryIPAddress = element;
		break;
	case 3:
	    this.cmd_platform = element;
		break;
	case 4:
		this.cmd_commands = element;
		break;
  }
}</script>
                  <type>RHINO</type>
                  <scriptRef>
                    <refId>72a225d4-dade-4f09-9637-a0aa2c532d30</refId>
                    <refName>Create JSON String from SQL Query Result</refName>
                  </scriptRef>
                </scriptlet>
              </scriptletFilter>
            </filters>
          </expression>
        </flowVariableAssignment>
      </assignments>
      <throttleSize>0</throttleSize>
    </step>
    <returnStep id="0a615b94-5a71-438c-b0e3-4d4538805fca">
      <annotation></annotation>
      <name>Error : failure</name>
      <bounds>
        <x>202.0</x>
        <y>0.0</y>
      </bounds>
      <layer>-1</layer>
      <hideInbound>false</hideInbound>
      <addResultToRunContext>false</addResultToRunContext>
      <isCriticalStep>false</isCriticalStep>
      <isNonBlocking>false</isNonBlocking>
      <isParallelStep>false</isParallelStep>
      <isSingleResponse>false</isSingleResponse>
      <recordInHistory>false</recordInHistory>
      <recordRawOutput>true</recordRawOutput>
      <recordPrimaryOutput>true</recordPrimaryOutput>
      <checkPointStep>true</checkPointStep>
      <historyCheckPointStep>true</historyCheckPointStep>
      <scriptResultStep>false</scriptResultStep>
      <userPrompt></userPrompt>
      <bindings/>
      <transitions>
        <transition id="dada56ea-a84e-4f28-9deb-2830f11cebfb">
          <annotation></annotation>
          <name>return</name>
          <command>NEXT</command>
          <linkMode>false</linkMode>
          <responseSymbol>failure</responseSymbol>
          <shouldHandoff>false</shouldHandoff>
          <transitionValue>0.0</transitionValue>
          <destination>
            <refId>0a615b94-5a71-438c-b0e3-4d4538805fca</refId>
          </destination>
          <source>
            <refId>0a615b94-5a71-438c-b0e3-4d4538805fca</refId>
          </source>
          <positions/>
        </transition>
      </transitions>
      <properties/>
      <returnStepType>ERROR</returnStepType>
      <assignments/>
    </returnStep>
  </steps>
  <startSteps>59683eb2-1d07-496c-b957-467d88586fc8</startSteps>
</flow>